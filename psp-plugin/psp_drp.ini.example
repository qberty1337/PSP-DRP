; PSP Discord Rich Presence Configuration
; Edit this file to customize the plugin behavior

; Enable or disable the plugin (1 = enabled, 0 = disabled)
enabled = 1

; Desktop companion app IP address
; Leave empty to use auto-discovery
desktop_ip = 

; Port to connect to (default: 9276)
port = 9276

; Enable auto-discovery of desktop app (1 = enabled, 0 = disabled)
auto_discovery = 1

; Send once mode (1 = enabled, 0 = disabled)
; When enabled, sends one update on plugin load then unloads network
send_once = 0

; Offline mode - tracks usage locally without network (1 = enabled, 0 = disabled)
; When enabled, skips network entirely and writes usage.json locally
; Use with the PSP DRP Homebrew App to view play time stats without WiFi
offline_mode = 0

; USB mode - enables USB file sync with desktop companion (1 = enabled, 0 = disabled)
; The desktop companion will auto-sync stats when PSP is connected via USB.
; This allows Discord Rich Presence without WiFi - just keep PSP connected via USB cable.
usb_mode = 0

; Send game icons to desktop app (1 = enabled, 0 = disabled)
send_icons = 1

; Custom name for this PSP (shown in Discord)
psp_name = PSP

; Enable logging to ms0:/psp_drp.log (1 = enabled, 0 = disabled)
enable_logging = 0

; Skip button - hold during game/xmb boot to disable plugin for that session
; Options: L, R, SELECT, START, UP, DOWN, LEFT, RIGHT, TRIANGLE, CIRCLE, CROSS, SQUARE
; Press SELECT + skip_button during gameplay to reactivate (if game allows it)
skip_button = L

; === Advanced Settings ===

; Game polling interval in milliseconds (default: 5000)
poll_interval_ms = 5000

; Heartbeat interval in milliseconds (default: 30000)
heartbeat_interval_ms = 30000

; Game info resend interval in milliseconds (default: 60000)
; Set to 0 to only send on change
game_update_interval_ms = 60000

; Connect timeout in seconds (0 = disable, default: 30)
connect_timeout_s = 30

; Vblank wait before network init (default: 300 = ~5 seconds)
; Each vblank is ~16.67ms at 60fps. Increase if game crashes.
; Recommended values: 300 (5s), 600 (10s for sensitive games)
vblank_wait = 300

; === Per-Game Vblank Overrides ===
; Use GAMEID_vblank_wait = VALUE to override for specific games
; Examples:
; NPUH10117_vblank_wait = 600  ; Corpse Party - needs ~10 seconds
; ULUS10213_vblank_wait = 600  ; The Warriors - needs ~10 seconds, doesnt freeze, but can't capture network
; ULUS10041_vblank_wait = 300  ; WipEout Pulse - default is fine
; ULUS10240_vblank_wait = 800 ; Prince of Persia: Rival Swords - freezes no matter what?

NPUH10117_vblank_wait = 600